<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kairah Studio + Fame Booster</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  .selected-template { border: 3px solid #D4AF37; }
  .viral-badge { background-color: #E7D2CB; color: #3D2C41; padding: 2px 6px; border-radius: 4px; font-size: 12px; font-weight: bold; position: absolute; top: 4px; right: 4px; }
  .locked-overlay { position: absolute; inset: 0; background-color: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 14px; border-radius: 8px; }
</style>
</head>
<body class="bg-gray-50 font-sans">

<!-- Header -->
<header class="bg-white shadow p-4 flex justify-between items-center">
  <div class="text-2xl font-bold text-purple-800">Kairah</div>
  <nav class="space-x-6">
    <a href="#" class="text-gray-700 hover:text-purple-800">Studio</a>
    <a href="#" class="text-gray-700 hover:text-purple-800">Fame</a>
    <a href="#" class="text-gray-700 hover:text-purple-800">Pricing</a>
    <a href="#" class="text-gray-700 hover:text-purple-800">Login</a>
  </nav>
</header>

<div class="flex mt-6 px-6 gap-6">

  <!-- Sidebar -->
  <aside class="w-48 bg-white rounded shadow p-4">
    <h2 class="font-bold mb-4">Categories</h2>
    <ul class="space-y-2">
      <li><button class="category-btn w-full text-left px-2 py-1 rounded hover:bg-purple-100" data-category="Funny">Funny</button></li>
      <li><button class="category-btn w-full text-left px-2 py-1 rounded hover:bg-purple-100" data-category="Baby">Baby</button></li>
      <li><button class="category-btn w-full text-left px-2 py-1 rounded hover:bg-purple-100" data-category="Royal">Royal</button></li>
      <li><button class="category-btn w-full text-left px-2 py-1 rounded hover:bg-purple-100" data-category="Fantasy">Fantasy</button></li>
      <li><button class="category-btn w-full text-left px-2 py-1 rounded hover:bg-purple-100" data-category="Motivational">Motivational</button></li>
      <li><button class="category-btn w-full text-left px-2 py-1 rounded hover:bg-purple-100" data-category="Viral">Viral</button></li>
    </ul>
    <div id="freeCounter" class="mt-6 font-bold text-purple-800"></div>
  </aside>

  <!-- Main -->
  <main class="flex-1 space-y-6">

    <!-- Prompt Box -->
    <div class="flex gap-2">
      <input type="text" id="promptInput" placeholder="Type your idea here..." class="flex-1 border rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-400" />
      <button id="promptMagicBtn" class="bg-yellow-500 text-white px-4 py-2 rounded font-bold">Prompt Magic</button>
    </div>

    <!-- Template Grid -->
    <div id="templateGrid" class="grid grid-cols-2 md:grid-cols-4 gap-4"></div>

    <!-- Video Preview + Analytics -->
    <div class="border rounded p-4 bg-white shadow relative">
      <h3 class="font-bold mb-2">Video Preview</h3>
      <div id="videoPreview" class="h-40 bg-gray-200 flex items-center justify-center rounded">Select a template to preview</div>
      <button id="downloadBtn" class="mt-2 bg-green-600 text-white px-4 py-2 rounded font-bold hidden">Download Video</button>
    </div>

    <!-- Generate Button -->
    <button id="generateBtn" class="bg-purple-800 text-white px-6 py-3 rounded font-bold disabled:bg-gray-400">
      Generate Video
    </button>

    <!-- Analytics Dashboard -->
    <div id="analyticsDashboard" class="border rounded p-4 bg-gray-100 mt-4">
      <h3 class="font-bold mb-2">Fame Analytics</h3>
      <button onclick="showAnalytics()" class="bg-purple-600 text-white px-4 py-2 rounded">Show Analytics in Console</button>
      <p class="mt-2 text-sm text-gray-700">CTA clicks & video downloads are logged per template.</p>
    </div>

  </main>

</div>

<!-- Footer -->
<footer class="bg-white shadow mt-6 p-4 text-center text-gray-600">
  ¬© 2025 Kairah. Contact | About | Social Links
</footer>

<script>
  // Dummy user info
  const user = {
    loggedIn: true,
    isPaid: false,
    freeVideosLeft: 1
  };

  // Initialize tracking
  if (!localStorage.getItem('fameAnalytics')) {
    localStorage.setItem('fameAnalytics', JSON.stringify({}));
  }

  function logClick(templateName) {
    const analytics = JSON.parse(localStorage.getItem('fameAnalytics'));
    if (!analytics[templateName]) analytics[templateName] = { clicks: 0, downloads: 0 };
    analytics[templateName].clicks += 1;
    localStorage.setItem('fameAnalytics', JSON.stringify(analytics));
    console.log(`CTA Click logged for ${templateName}`);
  }

  function logDownload(templateName) {
    const analytics = JSON.parse(localStorage.getItem('fameAnalytics'));
    if (!analytics[templateName]) analytics[templateName] = { clicks: 0, downloads: 0 };
    analytics[templateName].downloads += 1;
    localStorage.setItem('fameAnalytics', JSON.stringify(analytics));
    console.log(`Video Download logged for ${templateName}`);
  }

  function showAnalytics() {
    const analytics = JSON.parse(localStorage.getItem('fameAnalytics'));
    console.table(analytics);
  }

  function copyText(text) {
    navigator.clipboard.writeText(text);
    alert(`Copied: ${text}`);
  }

  const templates = [
    {
      name: "Royal Glimpse",
      category: "Royal",
      thumbnail: "https://via.placeholder.com/150",
      viralScore: 88,
      isPaid: true,
      captions: ["Feel the royal vibe üëë", "This glow is unstoppable! ‚ú®"],
      hashtags: ["royal", "luxury", "viral", "glowup"],
      cta: "Check Kairah Studio for more!",
      ctaLink: "https://kairah.vercel.app/studio"
    },
    {
      name: "Funny Meme",
      category: "Funny",
      thumbnail: "https://via.placeholder.com/150",
      viralScore: 72,
      isPaid: false,
      captions: ["Can't stop laughing üòÇ", "This is pure gold! üòÜ"],
      hashtags: ["funny", "meme", "lol", "viral"],
      cta: "Try more viral videos at Kairah Studio!",
      ctaLink: "https://kairah.vercel.app/studio"
    },
    {
      name: "Mini Fantasy",
      category: "Fantasy",
      thumbnail: "https://via.placeholder.com/150",
      viralScore: 80,
      isPaid: true,
      captions: ["Step into a magical world ‚ú®", "Fantasy comes alive! üßö‚Äç‚ôÄÔ∏è"],
      hashtags: ["fantasy", "magic", "viral", "dream"],
      cta: "Create your fantasy video at Kairah Studio!",
      ctaLink: "https://kairah.vercel.app/studio"
    },
    {
      name: "Quick Quote",
      category: "Motivational",
      thumbnail: "https://via.placeholder.com/150",
      viralScore: 65,
      isPaid: false,
      captions: ["Believe and achieve üí™", "Words that inspire üî•"],
      hashtags: ["motivation", "inspire", "viral", "quotes"],
      cta: "Get more motivational clips at Kairah Studio!",
      ctaLink: "https://kairah.vercel.app/studio"
    },
    {
      name: "Cute Baby",
      category: "Baby",
      thumbnail: "https://via.placeholder.com/150",
      viralScore: 60,
      isPaid: false,
      captions: ["Cutest thing you'll see today üçº", "Baby vibes overload üòç"],
      hashtags: ["baby", "cute", "viral", "adorable"],
      cta: "Make adorable videos at Kairah Studio!",
      ctaLink: "https://kairah.vercel.app/studio"
    },
    {
      name: "Viral Challenge",
      category: "Viral",
      thumbnail: "https://via.placeholder.com/150",
      viralScore: 90,
      isPaid: true,
      captions: ["Take the challenge now! üî•", "Are you ready to go viral? üöÄ"],
      hashtags: ["viralchallenge", "trending", "challenge", "fyp"],
      cta: "Join the viral challenge at Kairah Studio!",
      ctaLink: "https://kairah.vercel.app/studio"
    }
    // Add all other templates similarly...
  ];

  let selectedTemplate = null;
  const templateGrid = document.getElementById('templateGrid');
  const videoPreview = document.getElementById('videoPreview');
  const generateBtn = document.getElementById('generateBtn');
  const downloadBtn = document.getElementById('downloadBtn');
  const freeCounter = document.getElementById('freeCounter');

  function renderTemplates(category = null) {
    templateGrid.innerHTML = '';
    templates.forEach(t => {
      if (category && t.category !== category) return;
      const card = document.createElement('div');
      card.className = "relative bg-white rounded shadow p-2 cursor-pointer hover:ring-2 hover:ring-purple-300";
      card.innerHTML = `
        <img src="${t.thumbnail}" class="rounded w-full">
        <div class="mt-1 font-bold">${t.name}</div>
        <div class="text-sm text-gray-500">${t.category}</div>
        <div class="viral-badge">${t.viralScore}‚≠ê</div>
        ${!user.isPaid && t.isPaid ? '<div class="locked-overlay">Locked</div>' : ''}
      `;
      card.addEventListener('click', () => {
        if (!user.isPaid && t.isPaid) return alert("Upgrade to access this template!");
        selectedTemplate = t;
        downloadBtn.classList.remove('hidden');
        let captionsHtml = t.captions.map(c => `<div class="caption-item mt-1 p-1 bg-gray-100 rounded cursor-pointer hover:bg-purple-100" onclick="copyText('${c}')">${c}</div>`).join('');
        let hashtagsHtml = t.hashtags.map(h => `<span class="text-purple-800 font-semibold mr-2 cursor-pointer" onclick="copyText('${h}')">#${h}</span>`).join('');
        videoPreview.innerHTML = `
          <div class="h-40 bg-gray-300 flex flex-col items-center justify-center rounded relative">
            <div>${t.name} Preview</div>
            <div class="absolute bottom-2 left-2 text-white font-bold bg-purple-600 px-2 py-1 rounded" id="ctaOverlay">${t.cta}</div>
          </div>
          <div class="mt-2"><strong>Captions:</strong>${captionsHtml}</div>
          <div class="mt-2"><strong>Hashtags:</strong>${hashtagsHtml}</div>
          <button onclick="logClick('${t.name}'); window.open('${t.ctaLink}', '_blank')" class="mt-2 bg-yellow-500 px-4 py-2 rounded font-bold text-white hover:bg-yellow-600">Go to Studio</button>
        `;
      });
      templateGrid.appendChild(card);
    });
  }

  document.querySelectorAll('.category-btn').forEach(btn => {
    btn.addEventListener('click', () => renderTemplates(btn.dataset.category));
  });

  generateBtn.addEventListener('click', () => {
    if (!selectedTemplate) return alert("Select a template first!");
    if (!user.loggedIn) return alert("Please log in to generate videos!");
    if (!user.isPaid && user.freeVideosLeft <= 0) return alert("Free video limit reached. Upgrade to Pro!");
    videoPreview.innerHTML += `<div class="mt-2 text-green-700 font-bold">Generating ${selectedTemplate.name} video...</div>`;
    if (!user.isPaid) user.freeVideosLeft--;
    updateFreeCounter();
  });

  downloadBtn.addEventListener('click', () => {
    if (!selectedTemplate) return;
    logDownload(selectedTemplate.name);
    alert(`Video downloaded: ${selectedTemplate.name}`);
  });

  document.getElementById('promptMagicBtn').addEventListener('click', () => {
    const prompt = document.getElementById('promptInput').value;
    if (!prompt) return alert("Enter a prompt first!");
    document.getElementById('promptInput').value = `Viral-enhanced: ${prompt} üöÄ`;
  });

  function updateFreeCounter() {
    freeCounter.textContent = `Free videos left: ${user.freeVideosLeft}`;
  }

  updateFreeCounter();
  renderTemplates();
</script>

</body>
</html>
